<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Graph Framework: Equilibrium Models</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Graph Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('equilibrum_models.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Equilibrium Models</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#equilibrum_models_intro">Introduction</a>
  </li>
  <li class="level1">
    <a href="#equilibrum_splines">Spline Formatting</a>
    <ul>
      <li class="level2">
        <a href="#equilibrum_splines_1D">Cubic Splines</a>
      </li>
      <li class="level2">
        <a href="#equilibrum_splines_2D">Bicubic Splines</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#equilibrum_efit">EFIT</a>
    <ul>
      <li class="level2">
        <a href="#equilibrum_efit_format">EFIT file format</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#equilibrum_vmec">VMEC</a>
    <ul>
      <li class="level2">
        <a href="#equilibrum_vmec_format">VMEC file format</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#equilibrum_devel">Developing new equilibrium models</a>
    <ul>
      <li class="level2">
        <a href="#equilibrum_devel_coordinate">Noncartesian Coordinates</a>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="textblock"><p>Documentation for formatting equilibrium files.</p>
<h1><a class="anchor" id="equilibrum_models_intro"></a>
Introduction</h1>
<p>This page documents the types and formatting of the equilibrium models. xrays currently supports two equilibrium models.</p><ul>
<li>EFIT Are 2D axisymetric equilibria relevant to tokamak devices.</li>
<li>VMEC Are 3D nested flux surface equulibria relevant for stellarator devices. This documentation assumes the user has some familiarity with EFIT or VMEC and focuses instead how quanties from these are formatted.</li>
</ul>
<h1><a class="anchor" id="equilibrum_splines"></a>
Spline Formatting</h1>
<p>The equilibrium models used in this section make use of Cubic and Bicubic splines.</p>
<hr  />
 <h2><a class="anchor" id="equilibrum_splines_1D"></a>
Cubic Splines</h2>
<p>Cubic splines are 1D interpolation functions that consisting of 4 coeffient arrays. They take the form of </p><p class="formulaDsp">
\begin{equation}y\left(x\right)=C_{0} + C_{1}x + C_{2}x^2 + C_{3}x^2\end{equation}
</p>
<p> where \(x\) is a normalized radial index. Cubic splines coefficients can be calculated using <a href="https://mathworld.wolfram.com/CubicSpline.html">Linear Solvers</a> However, to avoid needing account for index offsets, index offsets are pre computed into the spline coefficents. </p><p class="formulaDsp">
\begin{equation}C&#39;^{i}_{0}=C^{i}_{0} - C^{i}_{1}i + C^{i}_{2}i^2 - C^{i}_{3}i^3\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{i}_{1}=C^{i}_{1} -2C^{i}_{2}i + 3C^{i}_{3}i^2\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{i}_{2}=C^{i}_{2} - 3C^{i}_{3}i\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{i}_{3}=C^{i}_{3}\end{equation}
</p>
<p> Where \(i\) is the index of the coeffient array. This allows to normalize the spline argument \(x\) so that it can both index the array and evaluate the spline. </p><p class="formulaDsp">
\begin{equation}x = \frac{x_{real} - x_{min}}{dx}\end{equation}
</p>
<p> Rounding down the value of \(x\) gives the correct coefficient index.</p>
<hr  />
 <h2><a class="anchor" id="equilibrum_splines_2D"></a>
Bicubic Splines</h2>
<p>Bicubic Splines are computed in a simular way instead they consist of a total of 16 coeffients. These represent 4 spline functions in one dimension which interpolate 4 coeffient values for the other dimension. Like the 1D splines, 2D spline coeffients are normalized to the spline arguments can be used as normalized indices. </p><p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{00}=C^{ij}_{00}-C^{ij}_{01}j+C^{ij}_{02}j^{2}-C^{ij}_{03}j^{3}-C^{ij}_{10}i+C^{ij}_{11}ij-C^{ij}_{12}ij^{2}+C^{ij}_{13}ij^{3}+C^{ij}_{20}i^{2}-C^{ij}_{21}i^{2}j+C^{ij}_{22}i^{2}j^{2}-C^{ij}_{23}i^{2}j^{3}-C^{ij}_{30}i^{3}+C^{ij}_{31}i^{3}j-C^{ij}_{32}i^{3}j^{2}+C^{ij}_{33}i^{3}j^{3}j\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{01}=C^{ij}_{01}-2C^{ij}_{02}j+3C^{ij}_{03}j^{2}-C^{ij}_{11}i+2C^{ij}_{12}ij-3C^{ij}_{13}ij^{2}+C^{ij}_{21}i^{2}-2C^{ij}_{22}i^{2}j+3C^{ij}_{23}i^{2}j^{2}-C^{ij}_{31}i^{3}+2C^{ij}_{32}i^{3}j-3C^{ij}_{33}i^{3}j^{2}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{02}=C^{ij}_{02}-3C^{ij}_{03}j-C^{ij}_{12}i+3C^{ij}_{13}ij+C^{22}i^{2}-3C^{ij}_{23}i^{2}j-C^{ij}_{32}i^{3}+3C^{ij}i^{3}j \end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{03}=C^{ij}_{03}-C^{ij}_{13}i+C^{ij}_{23}i^{2}-C^{ij}_{33}i^{3}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{10}=C^{ij}_{10}-2C^{ij}_{11}j+C^{ij}_{12}j^{2}-C^{ij}_{13}j^{3}-2C^{ij}_{20}i+2C^{ij}_{21}ij-2C^{ij}_{22}ij^{2}+2C^{ij}_{23}ij^{3}j+3C^{ij}_{30}i^{2}-3C^{ij}_{31}i^{2}j+3C^{ij}_{32}i^{2}j^{2}-3C^{ij}_{33}i^{2}j^{3}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{11}=C^{ij}_{11}-2C^{ij}_{12}j+3C^{ij}_{13}j^{2}-2C^{ij}_{21}i+4C^{ij}_{22}ij-6C^{ij}_{23}ij^{2}+3C^{ij}_{31}i^{2}-6C^{ij}_{32}i^{2}j+9C^{ij}_{33}i^{2}j^{2}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{12}=C^{ij}_{12}-C^{ij}_{13}j-2C^{ij}_{22}i+6C^{ij}_{23}ij+3C^{ij}_{32}j-9C^{ij}_{33}i^{2}j \end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{13}=C^{ij}_{13}-2C^{ij}_{23}i+3C^{ij}_{33}i^{2}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{20}=C^{ij}_{20}-C^{ij}_{21}j+C^{ij}_{22}ij^{2}-C^{ij}_{23}j^{3}-3C^{30}i+3C^{ij}_{31}ij-3C^{ij}_{32}ij^{2}+3C^{ij}_{33}ij^{3}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{21}=C^{ij}_{21}-2C^{ij}_{22}j+3C^{ij}_{23}j^{2}-3C^{ij}_{31}i+6C^{32}ij-9C^{ij}_{33}ij^{2}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{22}=C^{ij}_{22}-3C^{ij}_{23}j-3C^{ij}_{32}i+9C^{ij}_{33}ij \end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{23}=C^{ij}_{23}-3C^{ij}_{33}i \end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{30}=C^{ij}_{30}-C^{ij}_{31}j+C^{ij}_{32}j^{2}-C^{ij}_{33}j^{3}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{31}=C^{ij}_{31}-2C^{ij}_{32}j+3C^{ij}_{32}j^{2}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{32}=C^{ij}_{32}-3C^{ij}_{33}j \end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}C&#39;^{ij}_{33}=C^{ij}_{33} \end{equation}
</p>
<p> Bicubic splines are computed by </p><p class="formulaDsp">
\begin{equation}f\left(x,y\right)=\left(\begin{array}{cccc}1 &amp; x &amp; x^{2} &amp; x^{3}\end{array}\right)\cdot\left(\left(\begin{array}{cccc}C_{00}&amp;C_{01}&amp;C_{02}&amp;C_{03}\\C_{10}&amp;C_{11}&amp;C_{12}&amp;C_{13}\\C_{20}&amp;C_{21}&amp;C_{22}&amp;C_{23}\\C_{30}&amp;C_{31}&amp;C_{32}&amp;C_{33}\end{array}\right)\cdot\left(\begin{array}{c}1\\y\\y^{2}\\y^{3}\end{array}\right)\right)\end{equation}
</p>
<p> Like the 1D splines \(x\) and \(y\) are normalized. </p><p class="formulaDsp">
\begin{equation}x = \frac{x_{real} - x_{min}}{dx}\end{equation}
</p>
 <p class="formulaDsp">
\begin{equation}y = \frac{y_{real} - y_{min}}{dy}\end{equation}
</p>
<hr  />
 <h1><a class="anchor" id="equilibrum_efit"></a>
EFIT</h1>
<div class="image">
<img src="Efit.png" alt=""/>
<div class="caption">
Cross section of poloidal flux surfaces.</div></div>
<p> EFIT is an equilibium that comes from a solution of the <a href="https://en.wikipedia.org/wiki/Grad–Shafranov_equation">Grad–Shafranov equation</a>. The solution gives us a map of the poloidal flux \(\psi\) on 2D grid and a 1D flux function \(f_{pol}\). 1D profiles of electrion density \(n_{e}\left(\psi\right)\), electron temperature \(t_{e}\left(\psi\right)\), and pressure \(p\left(\psi\right)\) are mapped as functions of the normalized flux.</p>
<h2><a class="anchor" id="equilibrum_efit_format"></a>
EFIT file format</h2>
<p>Quantities are loaded into the ray tracer via a netcdf file. EFIT NetCDF files must contain the following quantities. Spline quanities have a common format of <em>name</em>_c<em>i</em> or <em>name</em>_c<em>ij</em>. </p><a class="anchor" id="equilibrum_efit_format_data"></a>
<table class="doxtable">
<caption>Efit netcdf file quantities</caption>
<tr>
<th colspan="3">Dimensions </th></tr>
<tr>
<th colspan="2">Name </th><th>Discription </th></tr>
<tr>
<td colspan="2"><code>numr</code> </td><td>Size of radial grid. </td></tr>
<tr>
<td colspan="2"><code>numz</code> </td><td>Size of vertical grid. </td></tr>
<tr>
<td colspan="2"><code>numpsi</code> </td><td>Size of arrays for \(\psi\) mapped quantities. </td></tr>
<tr>
<th colspan="3">Scalar Qantities </th></tr>
<tr>
<td colspan="2"><code>dpsi</code> </td><td>Step size of the \(\psi\) grid. </td></tr>
<tr>
<td colspan="2"><code>dr</code> </td><td>Step size of the radial grid. </td></tr>
<tr>
<td colspan="2"><code>dz</code> </td><td>Step size of the vertial grid. </td></tr>
<tr>
<td colspan="2"><code>ne_scale</code> </td><td>Scale of the \(n_{e}\) profile. </td></tr>
<tr>
<td colspan="2"><code>pres_scale</code> </td><td>Scale of the pressure profile. </td></tr>
<tr>
<td colspan="2"><code>psibry</code> </td><td>Value of \(\psi\) at the boundary. </td></tr>
<tr>
<td colspan="2"><code>psimin</code> </td><td>Minimum \(\psi\) value. </td></tr>
<tr>
<td colspan="2"><code>rmin</code> </td><td>Minimum radial value. </td></tr>
<tr>
<td colspan="2"><code>te_scale</code> </td><td>Scale of the electron temperature profile. </td></tr>
<tr>
<td colspan="2"><code>zmin</code> </td><td>Minimum vertial value. </td></tr>
<tr>
<th colspan="3">1D Qantities </th></tr>
<tr>
<th>Name</th><th>Size </th><th>Discription </th></tr>
<tr>
<td><code>fpol_c<em>i</em></code> </td><td><code>numpsi</code> </td><td>Flux function profile coefficents </td></tr>
<tr>
<td><code>ne_c<em>i</em></code> </td><td><code>numpsi</code> </td><td>\(n_{e}\) profile coefficents. </td></tr>
<tr>
<td><code>pressure_c<em>i</em></code> </td><td><code>numpsi</code> </td><td>Pressure profile coefficents. </td></tr>
<tr>
<td><code>te_c<em>i</em></code> </td><td><code>numpsi</code> </td><td>\(t_{e}\) profile coefficents. </td></tr>
<tr>
<th colspan="3">2D Qantities </th></tr>
<tr>
<th>Name</th><th>Size </th><th>Discription </th></tr>
<tr>
<td><code>psi_c<em>ij</em></code> </td><td><code>(numr,numz)</code></td><td>\(t_{e}\) profile coefficents. </td></tr>
</table>
<hr  />
 <h1><a class="anchor" id="equilibrum_vmec"></a>
VMEC</h1>
<div class="image">
<img src="vmec.png" alt=""/>
<div class="caption">
Cross section of 3D flux surfaces.</div></div>
<p> VMEC is an equilibium that comes from <a href="https://doi.org/10.1063/1.864116">minimizing mhd energy</a>. The solution gives us set of Fourier coefficents on a discrete radial grid. 1D profiles of electrion density \(n_{e}\left(\psi\right)\), electron temperature \(t_{e}\left(\psi\right)\), and pressure \(p\left(\psi\right)\) are mapped as functions of the normalized flux.</p>
<h2><a class="anchor" id="equilibrum_vmec_format"></a>
VMEC file format</h2>
<p>Quantities are loaded into the ray tracer via a netcdf file. VMEC NetCDF files must contain the following quantities. Spline quanities have a common format of <em>name</em>_c<em>i</em>. All radial quantities are splined accross the magnetic axis to the opposite end. That is quantities extend from \(-s\rightarrow s \). Splines of fourier coeffients are one dimensional splines stored in a 2D array. Radial quantities are store as a full or half grid value. </p><a class="anchor" id="equilibrum_vmec_format_data"></a>
<table class="doxtable">
<caption>VMEC netcdf file quantities</caption>
<tr>
<th colspan="3">Dimensions </th></tr>
<tr>
<th colspan="2">Name </th><th>Discription </th></tr>
<tr>
<td colspan="2"><code>numsf</code> </td><td>Size of full radial grid. </td></tr>
<tr>
<td colspan="2"><code>numsh</code> </td><td>Size of half radial grid. </td></tr>
<tr>
<td colspan="2"><code>nummn</code> </td><td>Number of Fourier modes. </td></tr>
<tr>
<th colspan="3">Scalar Qantities </th></tr>
<tr>
<td colspan="2"><code>dphi</code> </td><td>Step size toroidal flux. </td></tr>
<tr>
<td colspan="2"><code>ds</code> </td><td>Step size normalized toroidal flux. </td></tr>
<tr>
<td colspan="2"><code>signj</code> </td><td>Sign of the Jacobian. </td></tr>
<tr>
<td colspan="2"><code>sminf</code> </td><td>Minimum \(s \) on the full grid. </td></tr>
<tr>
<td colspan="2"><code>sminh</code> </td><td>Minimum \(s \) on the half grid. </td></tr>
<tr>
<th colspan="3">1D Qantities </th></tr>
<tr>
<th>Name </th><th>Size </th><th>Discription </th></tr>
<tr>
<td><code>chi_c<em>i</em></code> </td><td><code>numsf</code> </td><td>Poloidal flux profile. </td></tr>
<tr>
<td><code>xm</code> </td><td><code>nummn</code> </td><td>Poloidal modes. </td></tr>
<tr>
<td><code>xn</code> </td><td><code>nummn</code> </td><td>Toroidal modes. </td></tr>
<tr>
<th colspan="3">2D Qantities </th></tr>
<tr>
<th>Name </th><th>Size </th><th>Discription </th></tr>
<tr>
<td><code>lmns_c<em>i</em></code> </td><td><code>(numsh,nummn)</code></td><td>\(\lambda \) fourier coefficents. </td></tr>
<tr>
<td><code>rmnc_c<em>i</em></code> </td><td><code>(numsf,nummn)</code></td><td>\(r \) fourier coefficents. </td></tr>
<tr>
<td><code>zmns_c<em>i</em></code> </td><td><code>(numsf,nummn)</code></td><td>\(z \) fourier coefficents. </td></tr>
</table>
<hr  />
 <h1><a class="anchor" id="equilibrum_devel"></a>
Developing new equilibrium models</h1>
<p>This section is intended for code developers and outlines how to create new equilibrium models. All equilibrium model use the same <a class="el" href="classequilibrium_1_1generic.html">equilibrium::generic</a> interface. New equilibrium models can be created from a subclass of <a class="el" href="classequilibrium_1_1generic.html">equilibrium::generic</a> or any other existing equilibrium class and overloading class methods. </p><div class="fragment"><div class="line"><span class="keyword">template</span>&lt;jit::<span class="keywordtype">float</span>_scalar T, <span class="keywordtype">bool</span> SAFE_MATH=false&gt;</div>
<div class="line"><span class="keyword">class </span>new_equilibrium final : <span class="keyword">public</span> generic&lt;T, SAFE_MATH&gt; {</div>
<div class="line">   ...</div>
<div class="line">};</div>
</div><!-- fragment --><p>When a new equilibrium is subclassed from <a class="el" href="classequilibrium_1_1generic.html">equilibrium::generic</a> implimentations must be provided for the following pure virtual methods.</p><ul>
<li><a class="el" href="classequilibrium_1_1generic.html#ac1daa39f058165b7538d8e697cb8075d">equilibrium::generic::get_characteristic_field</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#a7a342e960684313d1b60bdbbd3467dfc">equilibrium::generic::get_electron_density</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#ab52a1520466c1e9d346a51c450837910">equilibrium::generic::get_electron_temperature</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#aec911f8997b1b84b4c1df04b114dfdd3">equilibrium::generic::get_ion_density</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#a6f0f09966f961014c6e8237a5874f055">equilibrium::generic::get_ion_temperature</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#ac986480b9421c674b9edf37919fd9d6d">equilibrium::generic::get_magnetic_field</a></li>
</ul>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="classequilibrium_1_1generic.html#ac1daa39f058165b7538d8e697cb8075d">equilibrium::generic::get_characteristic_field</a> is only used by the normalized boris method for particle pushing for most cases this can simply return 1.</dd></dl>
<p>For the remaining methods, or any other methods one wishes to override, the arguments provide expressions the input position of the ray. The methods return are expressions for the quantity at hand.</p>
<h2><a class="anchor" id="equilibrum_devel_coordinate"></a>
Noncartesian Coordinates</h2>
<p>While these methods take an \(x,y,z \) as the argument names, there is no reason these need to be assumed to be cartesian coordinates. For instance the <a class="el" href="#equilibrum_vmec">VMEC</a> treats \(x,y,z\rightarrow s,u,v \) as flux coordinates. In flux coordinate the coordinate system is no longer normalized nor orthogonal. So that other parts of the code can treat \(\vec{k}\) correctly there are methods to return the covariant basis vectors \(\vec{e}_{s},\vec{e}_{u},\vec{e}_{v}\).</p><ul>
<li><a class="el" href="classequilibrium_1_1generic.html#ac8fea7a0ec4cbbe3fadba128fb0a9cff">equilibrium::generic::get_esup1</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#a07279fedbc9a23589b12f035c0cd56e2">equilibrium::generic::get_esup2</a></li>
<li><a class="el" href="classequilibrium_1_1generic.html#aa72fcb3d663f81da335d25425143022f">equilibrium::generic::get_esup3</a></li>
</ul>
<p>By default, <a class="el" href="classequilibrium_1_1generic.html">equilibrium::generic</a> return basis vectors for a cartesian system \(\vec{e}_{1}=\hat{x},\vec{e}_{2}=\hat{y},\vec{e}_{3}=\hat{z}\). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
